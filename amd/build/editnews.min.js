define("local_wb_news/editnews",["exports","core_form/modalform","core/str"],(function(_exports,_modalform,_str){var obj;
/*
   * @package    local_shopping_cart
   * @copyright  Wunderbyte GmbH <info@wunderbyte.at>
   * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.addeditformModal=addeditformModal,_exports.deleteModal=deleteModal,_exports.init=void 0,_modalform=(obj=_modalform)&&obj.__esModule?obj:{default:obj};const SELECTORS_ADDEDITBUTTON="div.wb-news-addeditbutton",SELECTORS_DELETEBUTTON="div.wb-news-deletebutton";function addeditformModal(button){console.log("button",button);const id=button.dataset.id?button.dataset.id:0,instanceid=button.dataset.instanceid;let formclass="local_wb_news\\form\\addeditModal";"true"==button.dataset.isinstance&&(formclass="local_wb_news\\form\\addeditInstanceModal");const modalForm=new _modalform.default({formClass:formclass,args:{id:id,instanceid:instanceid},modalConfig:{title:(0,_str.get_string)("addeditform","local_wb_news")},returnFocus:button});modalForm.addEventListener(modalForm.events.FORM_SUBMITTED,(()=>{location.reload()})),modalForm.show()}function deleteModal(button){console.log("button",button);const id=button.dataset.id,instanceid=button.dataset.instanceid;let formclass="local_wb_news\\form\\addeditModal";"true"==button.dataset.isinstance&&(formclass="local_wb_news\\form\\addeditInstanceModal");const modalForm=new _modalform.default({formClass:formclass,args:{id:id,instanceid:instanceid},modalConfig:{title:(0,_str.get_string)("deletenewsitem","local_wb_news")},returnFocus:button});modalForm.addEventListener(modalForm.events.FORM_SUBMITTED,(()=>{location.reload()})),modalForm.show()}_exports.init=()=>{console.log("run init");const buttons=document.querySelectorAll(SELECTORS_ADDEDITBUTTON);console.log("buttons",buttons),buttons&&buttons.forEach((button=>{button.addEventListener("click",(e=>{console.log(e.target),addeditformModal(button)}))}));const deletebuttons=document.querySelectorAll(SELECTORS_DELETEBUTTON);console.log("deletebuttons",deletebuttons),deletebuttons&&deletebuttons.forEach((button=>{button.addEventListener("click",(e=>{console.log(e.target),deleteModal(button)}))}))}}));

//# sourceMappingURL=editnews.min.js.map